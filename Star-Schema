
This staging table feeds the downstream **dimensional warehouse**.

---

# üèõ **Data Warehouse Design (Kimball Star Schema)**

The warehouse consists of:

### ‚≠ê **Dimension Tables**
- `dim_crime_type`  
- `dim_lsoa`  
- `dim_location`  
- `dim_outcome`  
- `dim_date`  

### üìä **Fact Tables**
- `fact_crime_num` ‚Äî crimes by date, type, location  
- `fact_crime_count` ‚Äî crimes by date & LSOA  
- `fact_crime_resolution` ‚Äî crime outcomes by date and type  
- `fact_crime_time` ‚Äî crimes by day-of-week and location  

---

# üåê **Crime Data Warehouse Star Schema (Mermaid Diagram)**

```mermaid
erDiagram
    DIM_CRIME_TYPE {
        int crime_type_id PK
        string crime_type
    }

    DIM_LSOA {
        int lsoa_id PK
        string lsoa_code
        string lsoa_name
    }

    DIM_LOCATION {
        int location_id PK
        string location
    }

    DIM_OUTCOME {
        int outcome_id PK
        string last_outcome_category
    }

    DIM_DATE {
        int date_id PK
        date full_date
        int day
        int month
        string month_name
        int year
        int quarter
        int day_of_week
        string day_name
        string year_month
        bool is_weekend
    }

    FACT_CRIME_NUM {
        int date_id FK
        int lsoa_id FK
        int location_id FK
        int crime_type_id FK
        int crime_count
    }

    FACT_CRIME_COUNT {
        int date_id FK
        int lsoa_id FK
        int crime_type_id FK
        int crime_count
    }

    FACT_CRIME_RESOLUTION {
        int date_id FK
        int crime_type_id FK
        int outcome_id FK
        int resolution_count
    }

    FACT_CRIME_TIME {
        int date_id FK
        int day_of_week
        int location_id FK
        int crime_count
    }

    FACT_CRIME_NUM       }o--|| DIM_CRIME_TYPE : "crime_type_id"
    FACT_CRIME_NUM       }o--|| DIM_LSOA      : "lsoa_id"
    FACT_CRIME_NUM       }o--|| DIM_LOCATION  : "location_id"
    FACT_CRIME_NUM       }o--|| DIM_DATE      : "date_id"

    FACT_CRIME_COUNT     }o--|| DIM_CRIME_TYPE : "crime_type_id"
    FACT_CRIME_COUNT     }o--|| DIM_LSOA       : "lsoa_id"
    FACT_CRIME_COUNT     }o--|| DIM_DATE       : "date_id"

    FACT_CRIME_RESOLUTION}o--|| DIM_CRIME_TYPE : "crime_type_id"
    FACT_CRIME_RESOLUTION}o--|| DIM_OUTCOME    : "outcome_id"
    FACT_CRIME_RESOLUTION}o--|| DIM_DATE       : "date_id"

    FACT_CRIME_TIME      }o--|| DIM_LOCATION   : "location_id"
    FACT_CRIME_TIME      }o--|| DIM_DATE       : "date_id"
